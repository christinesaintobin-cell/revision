<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM - Chapitre "Vivre ailleurs"</title>
    <style>
        body {
            font-family: 'Inter', 'Arial', sans-serif;
            background-color: #f4f7f9;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #1a5276;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
            font-size: 1.8em;
        }
        .section-title {
            color: #3498db;
            margin-top: 30px;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px dashed #ccc;
            font-size: 1.4em;
        }
        .question-container {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fcfcfc;
            transition: border 0.3s;
            /* Cl√© du changement : cacher par d√©faut */
            display: none; 
        }
        /* Afficher uniquement la question actuelle */
        .question-container.active {
            display: block;
        }

        .question-text {
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.1em;
        }
        .option {
            margin-bottom: 8px;
        }
        .option label {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 10px 12px;
            border-radius: 6px;
            transition: background-color 0.2s, border-color 0.2s;
            border: 1px solid #ccc;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .option input[type="radio"] {
            margin-right: 10px;
            appearance: none;
            width: 16px;
            height: 16px;
            border: 2px solid #3498db;
            border-radius: 50%;
            transition: border-color 0.2s, background-color 0.2s;
            position: relative;
            flex-shrink: 0;
        }
        
        .option input[type="radio"]:checked {
            border-color: #1a5276;
        }
        .option input[type="radio"]:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #1a5276;
            transform: translate(-50%, -50%);
        }

        .option label:hover {
            background-color: #e8f5fe;
            border-color: #3498db;
        }
        
        /* Styles de feedback */
        .correct { 
            background-color: #d4edda !important; 
            color: #155724 !important; 
            border-color: #155724 !important;
            font-weight: 600;
        }
        .incorrect { 
            background-color: #f8d7da !important; 
            color: #721c24 !important; 
            border-color: #721c24 !important;
        }
        .feedback-correct { 
            background-color: #c3e6cb !important;
            color: #155724 !important;
            font-weight: bold;
            border-color: #155724 !important;
        }
        
        .feedback-correct input[type="radio"],
        .correct input[type="radio"] {
            border-color: #155724 !important;
        }
        .feedback-correct input[type="radio"]:checked::after,
        .correct input[type="radio"]:checked::after {
            background: #155724 !important;
        }
        .incorrect input[type="radio"] {
            border-color: #721c24 !important;
        }
        .incorrect input[type="radio"]::after {
             background: #721c24 !important;
        }

        .feedback-explanation {
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #a6c0e0;
            background-color: #eaf3fd;
            font-size: 0.9em;
            color: #555;
            display: none;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        .feedback-explanation strong {
            color: #1a5276;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .navigation-buttons button,
        #submit-button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            margin: 0 5px; /* Pour l'espacement */
        }
        
        .navigation-buttons button:hover {
            background-color: #2980b9;
            transform: translateY(-1px);
        }

        #submit-button {
            background-color: #2ecc71;
            width: 100%;
            margin: 30px 0 0 0;
            padding: 14px;
            font-size: 1.1em;
        }
        #submit-button:hover {
            background-color: #27ae60;
        }

        #results {
            margin-top: 20px;
            padding: 20px;
            border: 2px solid #3498db;
            border-radius: 8px;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            display: none;
            background-color: #eaf6ff;
        }
        #results ul {
            text-align: left;
            font-size: 0.9em;
            font-weight: normal;
            list-style-type: square;
            margin-top: 15px;
            padding-left: 20px;
        }
        /* Pour cacher les titres de section r√©p√©titifs */
        #quiz-form .section-title {
             display: none;
        }
        /* Afficher le titre de la section A */
        #quiz-form .section-title:first-of-type {
             display: block;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üìù QCM de R√©vision : Vivre ailleurs</h1>
    <p>Testez vos connaissances sur la s√©quence (objectifs, r√©cit, et analyse d'image).</p>
    
    <form id="quiz-form">
        </form>

    <div class="navigation-buttons">
        <button type="button" id="prev-button" onclick="changeQuestion(-1)">‚Üê Pr√©c√©dent</button>
        <button type="button" id="next-button" onclick="changeQuestion(1)">Suivant ‚Üí</button>
    </div>
    
    <button type="button" id="submit-button" onclick="submitQuiz()">V√©rifier et obtenir le Feedback</button>
    
    <div id="results"></div>
</div>

<script>
    const questions = [
        // Q1 : Description, Narration, Discours (Mode d'√©criture)
        {
            text: "Quelles sont les trois composantes essentielles (modes d'√©criture) que l'on doit diff√©rencier dans un r√©cit ?",
            options: [
                "L'introduction, le d√©veloppement, la conclusion",
                "Le pass√© simple, l'imparfait, le pr√©sent",
                "La Narration, la Description et le Discours (rapport√©)",
                "L'auteur, le narrateur, le lecteur"
            ],
            answer: "La Narration, la Description et le Discours (rapport√©)",
            feedback: "Les trois modes d'√©criture du r√©cit sont : la **Narration** (raconter des actions), la **Description** (peindre un lieu, un portrait) et le **Discours Rapport√©** (faire parler les personnages).",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q2 : Personnages principaux
        {
            text: "Qui sont les deux personnages principaux du roman 'La Petite Fille de Monsieur Linh' (selon l'extrait 'D√©part forc√©') ?",
            options: [
                "L'auteur Philippe Claudel et le narrateur",
                "Monsieur Linh et la petite fille",
                "Le narrateur et le chauffeur de bus",
                "Monsieur Linh et Monsieur Bark"
            ],
            answer: "Monsieur Linh et la petite fille",
            feedback: "Les deux personnages principaux du roman sont **Monsieur Linh** et la **petite fille**, dont l'interaction forme le c≈ìur de l'histoire et de l'extrait.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q3 : R√©cit R√©trospectif (Analepse)
        {
            text: "Quel terme d√©signe un r√©cit qui fait un retour en arri√®re sur des √©v√©nements pass√©s, comme le fait le narrateur au paragraphe 4 de 'D√©part forc√©' ?",
            options: [
                "R√©cit proleptique",
                "R√©cit descriptif",
                "R√©cit prospectif",
                "R√©cit r√©trospectif"
            ],
            answer: "R√©cit r√©trospectif",
            feedback: "Le **r√©cit r√©trospectif** est celui qui revient sur le pass√© (on parle aussi d'analepse ou de flashback). Le r√©cit prospectif est un saut dans le futur (prolepse).",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q4 : Focalisation / Point de vue (NOUVELLE)
        {
            text: "Quand le narrateur sait tout (pens√©es, pass√©, futur des personnages), on dit que la focalisation est :",
            options: [
                "Interne",
                "Z√©ro (ou omnisciente)",
                "Externe",
                "Multiple"
            ],
            answer: "Z√©ro (ou omnisciente)",
            feedback: "La **focalisation z√©ro** (ou point de vue omniscient) est celle du narrateur qui sait tout et est en quelque sorte 'Dieu' du r√©cit.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q5 : Type de Narrateur (NOUVELLE)
        {
            text: "Si un r√©cit est √©crit √† la troisi√®me personne ('il', 'elle'), le narrateur est :",
            options: [
                "Un narrateur-personnage",
                "Un narrateur externe (ou extradi√©g√©tique)",
                "Un personnage secondaire",
                "Un narrateur subjectif"
            ],
            answer: "Un narrateur externe (ou extradi√©g√©tique)",
            feedback: "Un **narrateur externe** raconte l'histoire sans y participer comme personnage, d'o√π l'usage de la troisi√®me personne.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q6 : Vitesse du r√©cit (NOUVELLE)
        {
            text: "Dans un r√©cit, quel proc√©d√© permet d'√©tirer la dur√©e (par exemple, un dialogue qui prend plus de place que la minute r√©elle de l'action) ?",
            options: [
                "Le Sommaire",
                "L'Ellipse",
                "La Pause (ou Description)",
                "La Sc√®ne (ou Dialogue)"
            ],
            answer: "La Sc√®ne (ou Dialogue)",
            feedback: "La **sc√®ne** (souvent sous forme de dialogue) fait co√Øncider le temps de l'histoire avec le temps du r√©cit ($T_{r√©cit} \approx T_{histoire}$), donnant une impression de ralentissement par rapport aux actions. La pause est l'arr√™t de l'action pour une description.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q7 : Type de discours (NOUVELLE)
        {
            text: "Dans 'La m√®re demanda : ¬´ O√π est-il ? ¬ª', le discours est :",
            options: [
                "Indirect libre",
                "Indirect",
                "Direct",
                "Rapport√©"
            ],
            answer: "Direct",
            feedback: "Le **discours direct** utilise les guillemets et/ou les tirets pour rapporter les paroles telles qu'elles ont √©t√© prononc√©es, sans modification.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q8 : Mode d'√©nonciation
        {
            text: "Quel mode d'√©nonciation est caract√©ris√© par un narrateur coup√© du r√©cit qui raconte les √©v√©nements √† la troisi√®me personne (il/elle/ils/elles) ?",
            options: [
                "Le mode √©nonciatif",
                "Le mode d'√©nonciation non-ancr√©",
                "Le mode d'√©nonciation ancr√©",
                "Le discours direct"
            ],
            answer: "Le mode d'√©nonciation non-ancr√©",
            feedback: "Le **mode d'√©nonciation non-ancr√©** (ou mode coup√©) se caract√©rise par l'absence de marques de la personne (Je, Tu) ou de l'espace-temps de l'√©nonciateur. C'est le mode du r√©cit au pass√© simple/imparfait.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q9 : Pr√©sent de narration
        {
            text: "Quelle est la valeur principale du Pr√©sent de l'indicatif (Pr√©sent de narration) utilis√© dans un r√©cit au pass√© ?",
            options: [
                "Exprimer une habitude r√©p√©t√©e",
                "Ancrer le lecteur dans l'instant de l'action",
                "Rapporter des √©v√©nements post√©rieurs au moment de l'√©nonciation",
                "D√©crire un √©tat permanent"
            ],
            answer: "Ancrer le lecteur dans l'instant de l'action",
            feedback: "Le **Pr√©sent de narration** rend les actions plus vivantes et pr√©sentes pour le lecteur, donnant l'impression qu'elles se d√©roulent sous ses yeux au moment de la lecture.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q10 : L'Imparfait (valeur)
        {
            text: "Dans 'Ses cheveux √©taient blonds et elle souriait', l'Imparfait exprime une valeur de :",
            options: [
                "Succession d'actions",
                "Ant√©riorit√© par rapport au Pass√© Simple",
                "Description ou √©tat",
                "Action achev√©e"
            ],
            answer: "Description ou √©tat",
            feedback: "L'Imparfait est principalement le temps de la **description** et de l'√©tat (toile de fond). Il sert √† peindre le d√©cor, les sentiments ou l'apparence des personnages.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q11 : Valeur du Pass√© Simple (NOUVELLE)
        {
            text: "Le Pass√© Simple dans 'Soudain, il **tomba**' exprime une action :",
            options: [
                "R√©p√©t√©e",
                "Longue et non d√©limit√©e",
                "Soudaine, br√®ve et achev√©e",
                "Ant√©rieure √† une autre"
            ],
            answer: "Soudaine, br√®ve et achev√©e",
            feedback: "Le **Pass√© Simple** est le temps des actions ponctuelles, soudaines et de la narration √©crite. Il fait progresser l'intrigue.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q12 : Valeur du Plus-que-parfait (NOUVELLE)
        {
            text: "Le Plus-que-parfait (ex: 'il avait compris') sert √† exprimer :",
            options: [
                "La simultan√©it√©",
                "Une action post√©rieure au pass√© simple",
                "L'ant√©riorit√© par rapport √† une action pass√©e",
                "Une habitude dans le pass√©"
            ],
            answer: "L'ant√©riorit√© par rapport √† une action pass√©e",
            feedback: "Le **Plus-que-parfait** exprime une action qui s'est d√©roul√©e *avant* une autre action d√©j√† au pass√© (Pass√© Simple ou Imparfait). Il est le temps de l'ant√©riorit√© dans le r√©cit au pass√©.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q13 : L'Imparfait (conjugaison)
        {
            text: "Laquelle de ces formes verbales correspond √† l'Imparfait de l'indicatif ?",
            options: [
                "Il voit",
                "Il verra",
                "Il voyait",
                "Il vit"
            ],
            answer: "Il voyait",
            feedback: "L'Imparfait se termine g√©n√©ralement par -ais, -ais, **-ait**, -ions, -iez, -aient (pour le verbe 'voir', c'est 'il voyait').",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q14 : Pass√© Simple vs Pass√© Compos√©
        {
            text: "Parmi ces deux temps, lequel est privil√©gi√© √† l'oral pour raconter une action pass√©e et achev√©e (ex: 'J'ai mang√©') ?",
            options: [
                "L'Imparfait",
                "Le Pass√© Simple",
                "Le Pass√© Compos√©",
                "Le Plus-que-parfait"
            ],
            answer: "Le Pass√© Compos√©",
            feedback: "Le **Pass√© Compos√©** est le temps du r√©cit oral. Le Pass√© Simple est le temps de la narration √©crite et est rarement utilis√© √† l'oral.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q15 : Formation du Pass√© Compos√© (NOUVELLE)
        {
            text: "Comment se forme le Pass√© Compos√© ?",
            options: [
                "Auxiliaire √ätre/Avoir √† l'Imparfait + Participe Pass√©",
                "Auxiliaire √ätre/Avoir au Pr√©sent + Infinitif",
                "Auxiliaire √ätre/Avoir au Pr√©sent + Participe Pass√©",
                "Verbe conjugu√© au Pass√© Simple + Participe Pass√©"
            ],
            answer: "Auxiliaire √ätre/Avoir au Pr√©sent + Participe Pass√©",
            feedback: "Le **Pass√© Compos√©** est un temps compos√© : Auxiliaire (*√™tre* ou *avoir*) conjugu√© au pr√©sent de l'indicatif + Participe Pass√© du verbe √† conjuguer.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q16 : Conjugaison Pass√© Simple (3e groupe) (NOUVELLE)
        {
            text: "La forme correcte du verbe 'sortir' au Pass√© Simple, troisi√®me personne du singulier est :",
            options: [
                "Il sortait",
                "Il sorta",
                "Il sortit",
                "Il est sorti"
            ],
            answer: "Il sortit",
            feedback: "Pour les verbes du troisi√®me groupe comme 'sortir' (et 'partir', 'dormir'), le Pass√© Simple se termine souvent par **-is, -is, -it, -√Æmes, -√Ætes, -irent** (ici, 'il sortit').",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q17 : Conjugaison Pass√© Simple (1er groupe) (NOUVELLE)
        {
            text: "La forme correcte du verbe 'pleurer' au Pass√© Simple, troisi√®me personne du pluriel est :",
            options: [
                "Ils pleuraient",
                "Ils pleur√®rent",
                "Ils pleurons",
                "Ils ont pleur√©"
            ],
            answer: "Ils pleur√®rent",
            feedback: "Les verbes du premier groupe au Pass√© Simple ont les terminaisons **-ai, -as, -a, -√¢mes, -√¢tes, -√®rent** (ici, 'ils pleur√®rent').",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q18 : Comparaison
        {
            text: "Dans la phrase 'Elle bouge comme un sac de riz', quel type de figure de style est utilis√© ?",
            options: [
                "Une m√©taphore",
                "Une hyperbole",
                "Une comparaison",
                "Une personnification"
            ],
            answer: "Une comparaison",
            feedback: "Il s'agit d'une **comparaison** car elle utilise un outil comparatif ('comme') pour relier un compar√© ('Elle') √† un comparant ('un sac de riz').",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q19 : M√©taphore
        {
            text: "Si l'on √©crit 'La petite fille est une ancre', quelle figure de style est employ√©e ?",
            options: [
                "Une comparaison",
                "Une m√©taphore",
                "Une all√©gorie",
                "Une litote"
            ],
            answer: "Une m√©taphore",
            feedback: "C'est une **m√©taphore** car elle cr√©e une assimilation sans outil comparatif (comme, tel, pareil √†). Elle sous-entend : La petite fille est [aussi solide et rassurante] qu'une ancre.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q20 : Hyperbole (NOUVELLE)
        {
            text: "La figure de style qui consiste √† exag√©rer pour impressionner (ex: 'Elle a pleur√© toutes les larmes de son corps') est :",
            options: [
                "Une litote",
                "Une antiphrase",
                "Une anaphore",
                "Une hyperbole"
            ],
            answer: "Une hyperbole",
            feedback: "L'**hyperbole** est la figure de l'exag√©ration, souvent utilis√©e pour exprimer des sentiments extr√™mes ou donner une impression de grandeur.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q21 : Connecteurs Logiques (Cons√©quence)
        {
            text: "Dans la phrase 'Il pleut, **donc** je prends mon parapluie', le mot en gras est un connecteur qui exprime :",
            options: [
                "L'addition",
                "La cause",
                "La cons√©quence",
                "L'opposition"
            ],
            answer: "La cons√©quence",
            feedback: "Le connecteur 'donc' introduit la **cons√©quence** logique d'un fait ou d'une situation pr√©c√©dente ('Il pleut').",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q22 : Connecteurs Logiques (Opposition) (NOUVELLE)
        {
            text: "Quel connecteur logique exprime une opposition ou une restriction ?",
            options: [
                "De plus",
                "Par cons√©quent",
                "Cependant",
                "Car"
            ],
            answer: "Cependant",
            feedback: "**Cependant** (ainsi que *mais*, *pourtant*, *toutefois*) permet de relier deux id√©es dont la seconde contredit ou nuance la premi√®re (opposition).",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q23 : Nature grammaticale (NOUVELLE)
        {
            text: "Quelle est la classe grammaticale du mot 'ailleurs' dans 'Vivre ailleurs' ?",
            options: [
                "Un nom commun",
                "Un adjectif",
                "Un adverbe",
                "Une pr√©position"
            ],
            answer: "Un adverbe",
            feedback: "**Ailleurs** est un adverbe de lieu, signifiant 'en un autre lieu'. Il est invariable.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q24 : Valeur de l'Infinitif (NOUVELLE)
        {
            text: "Dans le titre 'Vivre ailleurs', l'Infinitif ('Vivre') renvoie √† une valeur :",
            options: [
                "Imp√©rative (ordre)",
                "Ponctuelle (action unique)",
                "G√©n√©rale et impersonnelle",
                "Future"
            ],
            answer: "G√©n√©rale et impersonnelle",
            feedback: "L'Infinitif est un mode impersonnel qui, dans un titre, conf√®re une valeur **g√©n√©rale** et anonyme au th√®me, sans renvoyer √† une personne pr√©cise. (Comme dans la d√©finition tir√©e du support : *il a une valeur g√©n√©rale*).",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q25 : Identification du COD (NOUVELLE)
        {
            text: "Dans la phrase 'Elle regarda l'enfant', le Compl√©ment d'Objet Direct (COD) est :",
            options: [
                "Elle",
                "regarda",
                "l'enfant",
                "regarda l'enfant"
            ],
            answer: "l'enfant",
            feedback: "Le COD r√©pond √† la question 'Qui ?' ou 'Quoi ?' apr√®s le verbe. Ici, elle regarde **qui ?** -> **l'enfant**.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q26 : Diff√©rence de Mode (NOUVELLE)
        {
            text: "Lequel de ces modes est dit 'impersonnel' (ne se conjugue pas selon les personnes je, tu, il...) ?",
            options: [
                "L'Indicatif",
                "Le Subjonctif",
                "Le Conditionnel",
                "L'Infinitif"
            ],
            answer: "L'Infinitif",
            feedback: "Les modes impersonnels sont l'**Infinitif**, le Participe et le G√©rondif. L'Indicatif, le Subjonctif et l'Imp√©ratif sont des modes personnels.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        // Q27 : Fonction du G√©rondif (NOUVELLE)
        {
            text: "Dans 'Elle marchait **en chantant**', la forme 'en chantant' est un g√©rondif qui exprime :",
            options: [
                "Une cons√©quence",
                "Une condition",
                "La cause",
                "La simultan√©it√©"
            ],
            answer: "La simultan√©it√©",
            feedback: "Le **g√©rondif** (en + participe pr√©sent) exprime une action qui se d√©roule en m√™me temps que l'action principale (simultan√©it√©) : elle marchait *pendant qu'elle* chantait.",
            section: "A. Analyse Litt√©raire et Modes du R√©cit"
        },
        
        // --- Questions sur l'Image (Section B) ---
        
        // Q28 : Type de plan
        {
            text: "Concernant une image, si l'on voit le personnage en entier et que le d√©cor est tr√®s visible, il s'agit d'un :",
            options: [
                "Gros plan",
                "Plan d'ensemble",
                "Plan am√©ricain",
                "Plan rapproch√©"
            ],
            answer: "Plan d'ensemble",
            feedback: "Le **Plan d'ensemble** montre le d√©cor dans son int√©gralit√© et le personnage en entier, permettant de localiser l'action. Le Plan am√©ricain coupe aux genoux.",
            section: "B. Vocabulaire de l'Image et Analyse (PAGES 8-9)"
        },
        // Q29 : Angle de prise de vue (NOUVELLE)
        {
            text: "Un angle de prise de vue o√π l'on domine le sujet (vue d'en haut) est appel√© :",
            options: [
                "Plan s√©quence",
                "Contre-plong√©e",
                "Plong√©e",
                "Plan g√©n√©ral"
            ],
            answer: "Plong√©e",
            feedback: "La **plong√©e** √©crase le sujet et le montre vu d'en haut. √Ä l'inverse, la contre-plong√©e grandit le sujet et le montre vu d'en bas.",
            section: "B. Vocabulaire de l'Image et Analyse (PAGES 8-9)"
        },
        // Q30 : Couleurs / Signification
        {
            text: "Le choix d'utiliser principalement des couleurs sombres (gris, marron) pour repr√©senter un lieu cr√©e souvent un effet d'impression de :",
            options: [
                "Joie et l√©g√®ret√©",
                "√âvasion et libert√©",
                "M√©lancolie, myst√®re ou gravit√©",
                "Dynamisme et vitesse"
            ],
            answer: "M√©lancolie, myst√®re ou gravit√©",
            feedback: "Les couleurs sombres (dominante froide) sont associ√©es √† la **m√©lancolie, au myst√®re, √† la gravit√©** ou √† la difficult√© de la situation (contrairement aux couleurs chaudes et lumineuses).",
            section: "B. Vocabulaire de l'Image et Analyse (PAGES 8-9)"
        }
    ];

    const quizForm = document.getElementById('quiz-form');
    const resultsDiv = document.getElementById('results');
    const prevButton = document.getElementById('prev-button');
    const nextButton = document.getElementById('next-button');
    const submitButton = document.getElementById('submit-button');

    // Variable pour stocker l'index de la question actuellement affich√©e
    let currentQuestionIndex = 0;
    let questionContainers = [];
    let sectionTitles = {}; // Pour stocker les √©l√©ments des titres de section

    function renderQuiz() {
        quizForm.innerHTML = ''; // Nettoyer le formulaire
        questionContainers = [];

        questions.forEach((q, index) => {
            // Cr√©er le titre de section s'il n'existe pas encore
            if (!sectionTitles[q.section]) {
                const title = document.createElement('h2');
                title.classList.add('section-title');
                title.textContent = q.section;
                sectionTitles[q.section] = title;
                quizForm.appendChild(title);
            }

            const container = document.createElement('div');
            container.classList.add('question-container');
            container.dataset.section = q.section; // Stocker la section pour le retrouver

            questionContainers.push(container);

            const text = document.createElement('div');
            text.classList.add('question-text');
            // Afficher le num√©ro de la question
            text.textContent = `${index + 1}. ${q.text}`; 
            container.appendChild(text);

            q.options.forEach((option, optionIndex) => {
                const optionDiv = document.createElement('div');
                optionDiv.classList.add('option');

                const input = document.createElement('input');
                input.type = 'radio';
                input.id = `q${index}-opt${optionIndex}`;
                input.name = `question${index}`;
                input.value = option;
                
                input.onchange = (e) => {
                    const parentContainer = e.target.closest('.question-container');
                    parentContainer.querySelectorAll('label').forEach(label => {
                        label.classList.remove('correct', 'incorrect', 'feedback-correct');
                    });
                    parentContainer.querySelector('.feedback-explanation').style.display = 'none';
                };

                const label = document.createElement('label');
                label.htmlFor = `q${index}-opt${optionIndex}`;
                
                // Ins√©rer l'input en premier, puis le texte
                label.appendChild(input);
                label.appendChild(document.createTextNode(option));
                
                optionDiv.appendChild(label);
                container.appendChild(optionDiv);
            });

            // Ajouter le conteneur de feedback
            const feedback = document.createElement('div');
            feedback.classList.add('feedback-explanation');
            feedback.innerHTML = `<strong>Explication :</strong> ${q.feedback}`;
            container.appendChild(feedback);

            quizForm.appendChild(container);
        });
        
        // Afficher la premi√®re question
        showQuestion(currentQuestionIndex);
    }
    
    // Fonction pour afficher une question sp√©cifique
    function showQuestion(index) {
        // Cacher tous les conteneurs
        questionContainers.forEach(container => {
            container.classList.remove('active');
        });

        // Cacher tous les titres de section
        Object.values(sectionTitles).forEach(title => {
            title.style.display = 'none';
        });

        // Afficher la question demand√©e et la marquer comme active
        if (questionContainers[index]) {
            questionContainers[index].classList.add('active');
            
            // Afficher le titre de la section correspondante
            const sectionName = questionContainers[index].dataset.section;
            if (sectionTitles[sectionName]) {
                 sectionTitles[sectionName].style.display = 'block';
            }
            
            // Mettre √† jour l'index
            currentQuestionIndex = index;
        }

        // Mettre √† jour l'√©tat des boutons de navigation
        prevButton.disabled = currentQuestionIndex === 0;
        nextButton.disabled = currentQuestionIndex === questions.length - 1;

        // Afficher le bouton Soumettre uniquement sur la derni√®re question
        if (currentQuestionIndex === questions.length - 1) {
            submitButton.style.display = 'block';
            nextButton.style.display = 'none';
        } else {
            submitButton.style.display = 'none';
            nextButton.style.display = 'block';
        }
    }

    // Fonction pour changer de question (direction: +1 pour suivant, -1 pour pr√©c√©dent)
    function changeQuestion(direction) {
        const newIndex = currentQuestionIndex + direction;
        if (newIndex >= 0 && newIndex < questions.length) {
            showQuestion(newIndex);
        }
    }
    
    function submitQuiz() {
        let score = 0;
        
        // Afficher toutes les questions pour le feedback
        questionContainers.forEach(container => {
            container.classList.add('active');
            container.querySelector('.feedback-explanation').style.display = 'block';
        });

        // Afficher tous les titres de section
        Object.values(sectionTitles).forEach(title => {
            title.style.display = 'block';
        });
        
        // Cacher les boutons de navigation apr√®s la soumission
        prevButton.style.display = 'none';
        nextButton.style.display = 'none';
        submitButton.style.display = 'none';


        questions.forEach((q, index) => {
            const questionName = `question${index}`;
            const container = questionContainers[index];

            if (!container) return;

            // S√©lectionner l'option qui est coch√©e dans ce conteneur
            const selectedInput = container.querySelector(`input[name="${questionName}"]:checked`);
            
            // R√©initialiser les couleurs pour tous les labels (important si on soumet plusieurs fois)
            container.querySelectorAll('label').forEach(label => {
                label.classList.remove('correct', 'incorrect', 'feedback-correct');
            });
            
            if (selectedInput) {
                const isCorrect = selectedInput.value === q.answer;
                const selectedLabel = selectedInput.closest('label');
                
                // 1. Colorer la r√©ponse s√©lectionn√©e
                selectedLabel.classList.add(isCorrect ? 'correct' : 'incorrect');

                if (isCorrect) {
                    score++;
                } else {
                    // 2. Si incorrect, marquer la bonne r√©ponse (le label)
                    container.querySelectorAll('input').forEach(input => {
                        if (input.value === q.answer) {
                            input.closest('label').classList.add('feedback-correct');
                        }
                    });
                }
            } else {
                // 3. Si non r√©pondu, marquer seulement la bonne r√©ponse (le label)
                 container.querySelectorAll('input').forEach(input => {
                    if (input.value === q.answer) {
                        input.closest('label').classList.add('feedback-correct');
                    }
                });
            }
        });

        resultsDiv.style.display = 'block';
        resultsDiv.innerHTML = `Votre score : <span style="color: #2ecc71;">${score}</span> / ${questions.length}<br>`;
        
        if (score === questions.length) {
             resultsDiv.innerHTML += '<span style="color: #1a5276; font-size: 1em;">‚úÖ Parfait ! Vous ma√Ætrisez tous les objectifs de la s√©quence.</span>';
        } else {
            resultsDiv.innerHTML += `<span style="color: #e74c3c; font-size: 1em;">üßê Encore ${questions.length - score} points √† revoir. Lisez attentivement les explications pour chaque question.</span>`;
        }
    }

    // Lancer le quiz au chargement de la page
    renderQuiz();
</script>

</body>
</html>